!function(a,b){void 0===a&& void 0!==window&&(a=window),"function"==typeof define&&define.amd?define(["jquery"],function(a){return b(a)}):"object"==typeof module&&module.exports?module.exports=b(require("jquery")):b(a.jQuery)}(this,function(a){!function(a){"use strict";function p(b,e){var c=b.nodeName.toLowerCase();if(-1!==a.inArray(c,e))return -1===a.inArray(c,x)||Boolean(b.nodeValue.match(y)||b.nodeValue.match(z));for(var f=a(e).filter(function(b,a){return a instanceof RegExp}),d=0,g=f.length;d<g;d++)if(c.match(f[d]))return!0;return!1}function q(b,c,d){if(d&&"function"==typeof d)return d(b);for(var l=Object.keys(c),e=0,m=b.length;e<m;e++)for(var h=b[e].querySelectorAll("*"),f=0,n=h.length;f<n;f++){var a=h[f],i=a.nodeName.toLowerCase();if(-1!==l.indexOf(i))for(var j=[].slice.call(a.attributes),o=[].concat(c["*"]||[],c[i]||[]),g=0,q=j.length;g<q;g++){var k=j[g];p(k,o)||a.removeAttribute(k.nodeName)}else a.parentNode.removeChild(a)}}function r(d,f){for(var a,b=[],e=f||d.selectedOptions,c=0,g=e.length;c<g;c++)(a=e[c]).disabled||"OPTGROUP"===a.parentNode.tagName&&a.parentNode.disabled||b.push(a.value||a.text);return d.multiple?b:b.length?b[0]:null}function s(g,c,h,i){for(var d=["display","subtext","tokens"],e=!1,b=0;b<d.length;b++){var f=d[b],a=g[f];if(a&&(a=a.toString(),"display"===f&&(a=a.replace(/<[^>]+>/g,"")),i&&(a=v(a)),a=a.toUpperCase(),e="contains"===h?0<=a.indexOf(c):a.startsWith(c)))break}return e}function t(a){return parseInt(a,10)||0}function u(a){return G[a]}function v(a){return(a=a.toString())&&a.replace(H,u).replace(I,"")}function k(d){var h,i=arguments,l=d;if([].shift.apply(i),!e.success){try{e.full=(a.fn.dropdown.Constructor.VERSION||"").split(" ")[0].split(".")}catch(j){c.BootstrapVersion?e.full=c.BootstrapVersion.split(" ")[0].split("."):(e.full=[e.major,"0","0"],console.warn("There was an issue retrieving Bootstrap's version. Ensure Bootstrap is being loaded before bootstrap-select and there is no namespace collision. If loading Bootstrap asynchronously, the version may need to be manually specified via $.fn.selectpicker.Constructor.BootstrapVersion.",j))}e.major=e.full[0],e.success=!0}if("4"===e.major){var b=[];c.DEFAULTS.style===f.BUTTONCLASS&&b.push({name:"style",className:"BUTTONCLASS"}),c.DEFAULTS.iconBase===f.ICONBASE&&b.push({name:"iconBase",className:"ICONBASE"}),c.DEFAULTS.tickIcon===f.TICKICON&&b.push({name:"tickIcon",className:"TICKICON"}),f.DIVIDER="dropdown-divider",f.SHOW="show",f.BUTTONCLASS="btn-light",f.POPOVERHEADER="popover-header",f.ICONBASE="",f.TICKICON="bs-ok-default";for(var g=0;g<b.length;g++)d=b[g],c.DEFAULTS[d.name]=f[d.className]}var k=this.each(function(){var f=a(this);if(f.is("select")){var b=f.data("selectpicker"),d="object"==typeof l&&l;if(b){if(d)for(var g in d)d.hasOwnProperty(g)&&(b.options[g]=d[g])}else{var e=f.data();for(var j in e)e.hasOwnProperty(j)&& -1!==a.inArray(j,w)&&delete e[j];var k=a.extend({},c.DEFAULTS,a.fn.selectpicker.defaults||{},e,d);k.template=a.extend({},c.DEFAULTS.template,a.fn.selectpicker.defaults?a.fn.selectpicker.defaults.template:{},e.template,d.template),f.data("selectpicker",b=new c(this,k))}"string"==typeof l&&(h=b[l]instanceof Function?b[l].apply(b,i):b.options[l])}});return void 0!==h?h:k}var w=["sanitize","whiteList","sanitizeFn"],x=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],y=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,z=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+/]+=*$/i;"classList"in document.createElement("_")||function(f){if("Element"in f){var c="classList",g="prototype",d=f.Element[g],b=Object,h=function(){var b=a(this);return{add:function(a){return a=Array.prototype.slice.call(arguments).join(" "),b.addClass(a)},remove:function(a){return a=Array.prototype.slice.call(arguments).join(" "),b.removeClass(a)},toggle:function(a,c){return b.toggleClass(a,c)},contains:function(a){return b.hasClass(a)}}};if(b.defineProperty){var e={get:h,enumerable:!0,configurable:!0};try{b.defineProperty(d,c,e)}catch(i){void 0!==i.number&& -2146823252!==i.number||(e.enumerable=!1,b.defineProperty(d,c,e))}}else b[g].__defineGetter__&&d.__defineGetter__(c,h)}}(window);var g,l,h,d=document.createElement("_");if(d.classList.add("c1","c2"),!d.classList.contains("c2")){var A=DOMTokenList.prototype.add,B=DOMTokenList.prototype.remove;DOMTokenList.prototype.add=function(){Array.prototype.forEach.call(arguments,A.bind(this))},DOMTokenList.prototype.remove=function(){Array.prototype.forEach.call(arguments,B.bind(this))}}if(d.classList.toggle("c3",!1),d.classList.contains("c3")){var C=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(a,b){return 1 in arguments&& !this.contains(a)== !b?b:C.call(this,a)}}d=null,String.prototype.startsWith||(g=function(){try{var a={},b=Object.defineProperty,c=b(a,a,a)&&b}catch(d){}return c}(),l=({}).toString,h=function(b){if(null==this)throw new TypeError;var d=String(this);if(b&&"[object RegExp]"==l.call(b))throw new TypeError;var e=d.length,f=String(b),g=f.length,h=1<arguments.length?arguments[1]:void 0,a=h?Number(h):0;a!=a&&(a=0);var i=Math.min(Math.max(a,0),e);if(e<g+i)return!1;for(var c=-1;++c<g;)if(d.charCodeAt(i+c)!=f.charCodeAt(c))return!1;return!0},g?g(String.prototype,"startsWith",{value:h,configurable:!0,writable:!0}):String.prototype.startsWith=h),Object.keys||(Object.keys=function(c,b,a){for(b in a=[],c)a.hasOwnProperty.call(c,b)&&a.push(b);return a}),HTMLSelectElement&&!HTMLSelectElement.prototype.hasOwnProperty("selectedOptions")&&Object.defineProperty(HTMLSelectElement.prototype,"selectedOptions",{get:function(){return this.querySelectorAll(":checked")}});var D={useDefault:!1,_set:a.valHooks.select.set};a.valHooks.select.set=function(b,c){return c&&!D.useDefault&&a(b).data("selected",!0),D._set.apply(this,arguments)};var E=null,F=function(){try{return new Event("change"),!0}catch(a){return!1}}();a.fn.triggerNative=function(a){var b,c=this[0];c.dispatchEvent?(F?b=new Event(a,{bubbles:!0}):(b=document.createEvent("Event")).initEvent(a,!0,!1),c.dispatchEvent(b)):c.fireEvent?((b=document.createEventObject()).eventType=a,c.fireEvent("on"+a,b)):this.trigger(a)};var $,m,i,n,o,G={"\xc3\u20AC":"A","\xc3\x81":"A","\xc3\u201A":"A",Ãƒ:"A","\xc3\u201E":"A","\xc3\u2026":"A","\xc3 ":"a","\xc3\xa1":"a","\xc3\xa2":"a","\xc3\xa3":"a","\xc3\xa4":"a","\xc3\xa5":"a","\xc3\u2021":"C","\xc3\xa7":"c","\xc3\x90":"D","\xc3\xb0":"d",Ãˆ:"E","\xc3\u2030":"E",ÃŠ:"E","\xc3\u2039":"E","\xc3\xa8":"e","\xc3\xa9":"e",Ãª:"e","\xc3\xab":"e",ÃŒ:"I","\xc3\x8d":"I",ÃŽ:"I","\xc3\x8f":"I","\xc3\xac":"i","\xc3\xad":"i","\xc3\xae":"i","\xc3\xaf":"i","\xc3\u2018":"N","\xc3\xb1":"n","\xc3\u2019":"O","\xc3\u201C":"O","\xc3\u201D":"O","\xc3\u2022":"O","\xc3\u2013":"O","\xc3\u02DC":"O","\xc3\xb2":"o","\xc3\xb3":"o","\xc3\xb4":"o",Ãµ:"o","\xc3\xb6":"o","\xc3\xb8":"o","\xc3\u2122":"U",Ãš:"U","\xc3\u203A":"U",Ãœ:"U","\xc3\xb9":"u",Ãº:"u","\xc3\xbb":"u","\xc3\xbc":"u","\xc3\x9d":"Y","\xc3\xbd":"y","\xc3\xbf":"y","\xc3\u2020":"Ae","\xc3\xa6":"ae",Ãž:"Th","\xc3\xbe":"th",ÃŸ:"ss","\xc4\u20AC":"A","\xc4\u201A":"A","\xc4\u201E":"A","\xc4\x81":"a",Äƒ:"a","\xc4\u2026":"a","\xc4\u2020":"C",Äˆ:"C",ÄŠ:"C",ÄŒ:"C","\xc4\u2021":"c","\xc4\u2030":"c","\xc4\u2039":"c","\xc4\x8d":"c",ÄŽ:"D","\xc4\x90":"D","\xc4\x8f":"d","\xc4\u2018":"d","\xc4\u2019":"E","\xc4\u201D":"E","\xc4\u2013":"E","\xc4\u02DC":"E",Äš:"E","\xc4\u201C":"e","\xc4\u2022":"e","\xc4\u2014":"e","\xc4\u2122":"e","\xc4\u203A":"e",Äœ:"G",Äž:"G","\xc4 ":"G","\xc4\xa2":"G","\xc4\x9d":"g",ÄŸ:"g","\xc4\xa1":"g","\xc4\xa3":"g","\xc4\xa4":"H","\xc4\xa6":"H","\xc4\xa5":"h","\xc4\xa7":"h","\xc4\xa8":"I",Äª:"I","\xc4\xac":"I","\xc4\xae":"I","\xc4\xb0":"I","\xc4\xa9":"i","\xc4\xab":"i","\xc4\xad":"i","\xc4\xaf":"i","\xc4\xb1":"i","\xc4\xb4":"J",Äµ:"j","\xc4\xb6":"K",Ä·:"k","\xc4\xb8":"k","\xc4\xb9":"L","\xc4\xbb":"L","\xc4\xbd":"L","\xc4\xbf":"L","\xc5\x81":"L",Äº:"l","\xc4\xbc":"l","\xc4\xbe":"l","\xc5\u20AC":"l","\xc5\u201A":"l",Åƒ:"N","\xc5\u2026":"N","\xc5\u2021":"N",ÅŠ:"N","\xc5\u201E":"n","\xc5\u2020":"n",Åˆ:"n","\xc5\u2039":"n",ÅŒ:"O",ÅŽ:"O","\xc5\x90":"O","\xc5\x8d":"o","\xc5\x8f":"o","\xc5\u2018":"o","\xc5\u201D":"R","\xc5\u2013":"R","\xc5\u02DC":"R","\xc5\u2022":"r","\xc5\u2014":"r","\xc5\u2122":"r",Åš:"S",Åœ:"S",Åž:"S","\xc5 ":"S","\xc5\u203A":"s","\xc5\x9d":"s",ÅŸ:"s","\xc5\xa1":"s","\xc5\xa2":"T","\xc5\xa4":"T","\xc5\xa6":"T","\xc5\xa3":"t","\xc5\xa5":"t","\xc5\xa7":"t","\xc5\xa8":"U",Åª:"U","\xc5\xac":"U","\xc5\xae":"U","\xc5\xb0":"U","\xc5\xb2":"U","\xc5\xa9":"u","\xc5\xab":"u","\xc5\xad":"u","\xc5\xaf":"u","\xc5\xb1":"u","\xc5\xb3":"u","\xc5\xb4":"W",Åµ:"w","\xc5\xb6":"Y",Å·:"y","\xc5\xb8":"Y","\xc5\xb9":"Z","\xc5\xbb":"Z","\xc5\xbd":"Z",Åº:"z","\xc5\xbc":"z","\xc5\xbe":"z","\xc4\xb2":"IJ","\xc4\xb3":"ij","\xc5\u2019":"Oe","\xc5\u201C":"oe","\xc5\u2030":"'n","\xc5\xbf":"s"},H=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,I=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\u1ab0-\\u1aff\\u1dc0-\\u1dff]","g"),J=($={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},m=function(a){return $[a]},i="(?:"+Object.keys($).join("|")+")",n=RegExp(i),o=RegExp(i,"g"),function(a){return a=null==a?"":""+a,n.test(a)?a.replace(o,m):a}),K={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"},e={success:!1,major:"3"};try{e.full=(a.fn.dropdown.Constructor.VERSION||"").split(" ")[0].split("."),e.major=e.full[0],e.success=!0}catch(L){}var M=0,j=".bs.select",f={DISABLED:"disabled",DIVIDER:"divider",SHOW:"open",DROPUP:"dropup",MENU:"dropdown-menu",MENURIGHT:"dropdown-menu-right",MENULEFT:"dropdown-menu-left",BUTTONCLASS:"btn-default",POPOVERHEADER:"popover-title",ICONBASE:"glyphicon",TICKICON:"glyphicon-ok"},N={MENU:"."+f.MENU},b={span:document.createElement("span"),i:document.createElement("i"),subtext:document.createElement("small"),a:document.createElement("a"),li:document.createElement("li"),whitespace:document.createTextNode("\xc2 "),fragment:document.createDocumentFragment()};b.a.setAttribute("role","option"),b.subtext.className="text-muted",b.text=b.span.cloneNode(!1),b.text.className="text",b.checkMark=b.span.cloneNode(!1);var O=new RegExp("38|40"),P=new RegExp("^9$|27"),Q=function(a,d,e){var c=b.li.cloneNode(!1);return a&&(1===a.nodeType||11===a.nodeType?c.appendChild(a):c.innerHTML=a),void 0!==d&&""!==d&&(c.className=d),null!=e&&c.classList.add("optgroup-"+e),c},_=function(c,d,f){var a=b.a.cloneNode(!0);return c&&(11===c.nodeType?a.appendChild(c):a.insertAdjacentHTML("beforeend",c)),void 0!==d&&""!==d&&(a.className=d),"4"===e.major&&a.classList.add("dropdown-item"),f&&a.setAttribute("style",f),a},R=function(a,d){var e,f,c=b.text.cloneNode(!1);if(a.content)c.innerHTML=a.content;else{if(c.textContent=a.text,a.icon){var g=b.whitespace.cloneNode(!1);(f=(!0===d?b.i:b.span).cloneNode(!1)).className=a.iconBase+" "+a.icon,b.fragment.appendChild(f),b.fragment.appendChild(g)}a.subtext&&((e=b.subtext.cloneNode(!1)).textContent=a.subtext,c.appendChild(e))}if(!0===d)for(;0<c.childNodes.length;)b.fragment.appendChild(c.childNodes[0]);else b.fragment.appendChild(c);return b.fragment},S=function(a){var d,e,c=b.text.cloneNode(!1);if(c.innerHTML=a.label,a.icon){var f=b.whitespace.cloneNode(!1);(e=b.span.cloneNode(!1)).className=a.iconBase+" "+a.icon,b.fragment.appendChild(e),b.fragment.appendChild(f)}return a.subtext&&((d=b.subtext.cloneNode(!1)).textContent=a.subtext,c.appendChild(d)),b.fragment.appendChild(c),b.fragment},c=function(d,e){var f=this;D.useDefault||(a.valHooks.select.set=D._set,D.useDefault=!0),this.$element=a(d),this.$newElement=null,this.$button=null,this.$menu=null,this.options=e,this.selectpicker={main:{},search:{},current:{},view:{},keydown:{keyHistory:"",resetKeyHistory:{start:function(){return setTimeout(function(){f.selectpicker.keydown.keyHistory=""},800)}}}},null===this.options.title&&(this.options.title=this.$element.attr("title"));var b=this.options.windowPadding;"number"==typeof b&&(this.options.windowPadding=[b,b,b,b]),this.val=c.prototype.val,this.render=c.prototype.render,this.refresh=c.prototype.refresh,this.setStyle=c.prototype.setStyle,this.selectAll=c.prototype.selectAll,this.deselectAll=c.prototype.deselectAll,this.destroy=c.prototype.destroy,this.remove=c.prototype.remove,this.show=c.prototype.show,this.hide=c.prototype.hide,this.init()};c.VERSION="1.13.10",c.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results matched {0}",countSelectedText:function(a,b){return 1==a?"{0} item selected":"{0} items selected"},maxOptionsText:function(a,b){return[1==a?"Limit reached ({n} item max)":"Limit reached ({n} items max)",1==b?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)"]},selectAllText:"Select All",deselectAllText:"Deselect All",doneButton:!1,doneButtonText:"Close",multipleSeparator:", ",styleBase:"btn",style:f.BUTTONCLASS,size:"auto",title:null,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,liveSearchPlaceholder:null,liveSearchNormalize:!1,liveSearchStyle:"contains",actionsBox:!1,iconBase:f.ICONBASE,tickIcon:f.TICKICON,showTick:!1,template:{caret:'<span class="caret"></span>'},maxOptions:!1,mobile:!1,selectOnTab:!1,dropdownAlignRight:!1,windowPadding:0,virtualScroll:600,display:!1,sanitize:!0,sanitizeFn:null,whiteList:{"*":["class","dir","id","lang","role","tabindex","style",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]}},c.prototype={constructor:c,init:function(){var b=this,a=this.$element.attr("id");M++,this.selectId="bs-select-"+M,this.$element[0].classList.add("bs-select-hidden"),this.multiple=this.$element.prop("multiple"),this.autofocus=this.$element.prop("autofocus"),this.$element[0].classList.contains("show-tick")&&(this.options.showTick=!0),this.$newElement=this.createDropdown(),this.$element.after(this.$newElement).prependTo(this.$newElement),this.$button=this.$newElement.children("button"),this.$menu=this.$newElement.children(N.MENU),this.$menuInner=this.$menu.children(".inner"),this.$searchbox=this.$menu.find("input"),this.$element[0].classList.remove("bs-select-hidden"),!0===this.options.dropdownAlignRight&&this.$menu[0].classList.add(f.MENURIGHT),void 0!==a&&this.$button.attr("data-id",a),this.checkDisabled(),this.clickListener(),this.options.liveSearch?(this.liveSearchListener(),this.focusedParent=this.$searchbox[0]):this.focusedParent=this.$menuInner[0],this.setStyle(),this.render(),this.setWidth(),this.options.container?this.selectPosition():this.$element.on("hide"+j,function(){if(b.isVirtual()){var a=b.$menuInner[0],c=a.firstChild.cloneNode(!1);a.replaceChild(c,a.firstChild),a.scrollTop=0}}),this.$menu.data("this",this),this.$newElement.data("this",this),this.options.mobile&&this.mobile(),this.$newElement.on({"hide.bs.dropdown":function(a){b.$element.trigger("hide"+j,a)},"hidden.bs.dropdown":function(a){b.$element.trigger("hidden"+j,a)},"show.bs.dropdown":function(a){b.$element.trigger("show"+j,a)},"shown.bs.dropdown":function(a){b.$element.trigger("shown"+j,a)}}),b.$element[0].hasAttribute("required")&&this.$element.on("invalid"+j,function(){b.$button[0].classList.add("bs-invalid"),b.$element.on("shown"+j+".invalid",function(){b.$element.val(b.$element.val()).off("shown"+j+".invalid")}).on("rendered"+j,function(){this.validity.valid&&b.$button[0].classList.remove("bs-invalid"),b.$element.off("rendered"+j)}),b.$button.on("blur"+j,function(){b.$element.trigger("focus").trigger("blur"),b.$button.off("blur"+j)})}),setTimeout(function(){b.createLi(),b.$element.trigger("loaded"+j)})},createDropdown:function(){var i=this.multiple||this.options.showTick?" show-tick":"",j=this.multiple?' aria-multiselectable="true"':"",b="",k=this.autofocus?" autofocus":"";e.major<4&&this.$element.parent().hasClass("input-group")&&(b=" input-group-btn");var c="",d="",g="",h="";return this.options.header&&(c='<div class="'+f.POPOVERHEADER+'"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>"),this.options.liveSearch&&(d='<div class="bs-searchbox"><input type="text" class="form-control" autocomplete="off"'+(null===this.options.liveSearchPlaceholder?"":' placeholder="'+J(this.options.liveSearchPlaceholder)+'"')+' role="combobox" aria-label="Search" aria-controls="'+this.selectId+'" aria-autocomplete="list" onkeyup="check_all_val()" onchange="check_all_val1()"></div>'),this.multiple&&this.options.actionsBox&&(g='<div class="bs-actionsbox"><div class="btn-group btn-group-sm btn-block"><button type="button" class="actions-btn bs-select-all btn '+f.BUTTONCLASS+'">'+this.options.selectAllText+'</button><button type="button" class="actions-btn bs-deselect-all btn '+f.BUTTONCLASS+'">'+this.options.deselectAllText+"</button></div></div>"),this.multiple&&this.options.doneButton&&(h='<div class="bs-donebutton"><div class="btn-group btn-block"><button type="button" class="btn btn-sm '+f.BUTTONCLASS+'">'+this.options.doneButtonText+"</button></div></div>"),a('<div class="dropdown bootstrap-select'+i+b+'"><button type="button" class="'+this.options.styleBase+' dropdown-toggle" '+("static"===this.options.display?'data-display="static"':"")+'data-toggle="dropdown"'+k+' role="combobox" aria-owns="'+this.selectId+'" aria-haspopup="listbox" aria-expanded="false"><div class="filter-option"><div class="filter-option-inner"><div class="filter-option-inner-inner"></div></div> </div>'+("4"===e.major?"":'<span class="bs-caret">'+this.options.template.caret+"</span>")+'</button><div class="'+f.MENU+" "+("4"===e.major?"":f.SHOW)+'">'+c+d+g+'<div class="inner '+f.SHOW+'" role="listbox" id="'+this.selectId+'" tabindex="-1" '+j+'><ul class="'+f.MENU+" inner "+("4"===e.major?f.SHOW:"")+'" role="presentation"></ul></div>'+h+"</div></div>")},setPositionData:function(){this.selectpicker.view.canHighlight=[];for(var b=this.selectpicker.view.size=0;b<this.selectpicker.current.data.length;b++){var a=this.selectpicker.current.data[b],c=!0;"divider"===a.type?(c=!1,a.height=this.sizeInfo.dividerHeight):"optgroup-label"===a.type?(c=!1,a.height=this.sizeInfo.dropdownHeaderHeight):a.height=this.sizeInfo.liHeight,a.disabled&&(c=!1),this.selectpicker.view.canHighlight.push(c),c&&(this.selectpicker.view.size++,a.posinset=this.selectpicker.view.size),a.position=(0===b?0:this.selectpicker.current.data[b-1].position)+a.height}},isVirtual:function(){return!1!==this.options.virtualScroll&&this.selectpicker.main.elements.length>=this.options.virtualScroll|| !0===this.options.virtualScroll},createView:function(i,k,l){function m(v,g){var h,j,w,x,f,m,y,z,r,A,c=b.selectpicker.current.elements.length,s=[],B=!0,d=b.isVirtual();b.selectpicker.view.scrollTop=v,!0===d&&b.sizeInfo.hasScrollBar&&b.$menu[0].offsetWidth>b.sizeInfo.totalMenuWidth&&(b.sizeInfo.menuWidth=b.$menu[0].offsetWidth,b.sizeInfo.totalMenuWidth=b.sizeInfo.menuWidth+b.sizeInfo.scrollBarWidth,b.$menu.css("min-width",b.sizeInfo.menuWidth)),h=Math.ceil(b.sizeInfo.menuInnerHeight/b.sizeInfo.liHeight*1.5),j=Math.round(c/h)||1;for(var a=0;a<j;a++){var t=(a+1)*h;if(a===j-1&&(t=c),s[a]=[a*h+(a?1:0),t],!c)break;void 0===f&&v<=b.selectpicker.current.data[t-1].position-b.sizeInfo.menuInnerHeight&&(f=a)}if(void 0===f&&(f=0),m=[b.selectpicker.view.position0,b.selectpicker.view.position1],w=Math.max(0,f-1),x=Math.min(j-1,f+1),b.selectpicker.view.position0=!1===d?0:Math.max(0,s[w][0])||0,b.selectpicker.view.position1=!1===d?c:Math.min(c,s[x][1])||0,y=m[0]!==b.selectpicker.view.position0||m[1]!==b.selectpicker.view.position1,void 0!==b.activeIndex&&(o=b.selectpicker.main.elements[b.prevActiveIndex],p=b.selectpicker.main.elements[b.activeIndex],n=b.selectpicker.main.elements[b.selectedIndex],g&&(b.activeIndex!==b.selectedIndex&&b.defocusItem(p),b.activeIndex=void 0),b.activeIndex&&b.activeIndex!==b.selectedIndex&&b.defocusItem(n)),void 0!==b.prevActiveIndex&&b.prevActiveIndex!==b.activeIndex&&b.prevActiveIndex!==b.selectedIndex&&b.defocusItem(o),(g||y)&&(z=b.selectpicker.view.visibleElements?b.selectpicker.view.visibleElements.slice():[],b.selectpicker.view.visibleElements=!1===d?b.selectpicker.current.elements:b.selectpicker.current.elements.slice(b.selectpicker.view.position0,b.selectpicker.view.position1),b.setOptionStatus(),(i|| !1===d&&g)&&(r=z,A=b.selectpicker.view.visibleElements,B=!(r.length===A.length&&r.every(function(a,b){return a===A[b]}))),(g|| !0===d)&&B)){var $,C,e=b.$menuInner[0],D=document.createDocumentFragment(),I=e.firstChild.cloneNode(!1),E=b.selectpicker.view.visibleElements,u=[];e.replaceChild(I,e.firstChild),a=0;for(var J=E.length;a<J;a++){var F,k,G=E[a];b.options.sanitize&&(F=G.lastChild)&&(k=b.selectpicker.current.data[a+b.selectpicker.view.position0])&&k.content&&!k.sanitized&&(u.push(F),k.sanitized=!0),D.appendChild(G)}b.options.sanitize&&u.length&&q(u,b.options.whiteList,b.options.sanitizeFn),e.firstChild.style.marginBottom=!0===d?($=0===b.selectpicker.view.position0?0:b.selectpicker.current.data[b.selectpicker.view.position0-1].position,C=b.selectpicker.view.position1>c-1?0:b.selectpicker.current.data[c-1].position-b.selectpicker.current.data[b.selectpicker.view.position1-1].position,e.firstChild.style.marginTop=$+"px",C+"px"):e.firstChild.style.marginTop=0,e.firstChild.appendChild(D)}if(b.prevActiveIndex=b.activeIndex,b.options.liveSearch){if(i&&g){var H,l=0;b.selectpicker.view.canHighlight[l]||(l=1+b.selectpicker.view.canHighlight.slice(1).indexOf(!0)),H=b.selectpicker.view.visibleElements[l],b.defocusItem(b.selectpicker.view.currentActive),b.activeIndex=(b.selectpicker.current.data[l]||{}).index,b.focusItem(H)}}else b.$menuInner.trigger("focus")}var n,o,b=this,c=0,p=[];if(this.selectpicker.current=i?this.selectpicker.search:this.selectpicker.main,this.setPositionData(),k){if(l)c=this.$menuInner[0].scrollTop;else if(!b.multiple){var d=b.$element[0],e=(d.options[d.selectedIndex]||{}).liIndex;if("number"==typeof e&& !1!==b.options.size){var g=b.selectpicker.main.data[e],h=g&&g.position;h&&(c=h-(b.sizeInfo.menuInnerHeight+b.sizeInfo.liHeight)/2)}}}m(c,!0),this.$menuInner.off("scroll.createView").on("scroll.createView",function(c,a){b.noScroll||m(this.scrollTop,a),b.noScroll=!1}),a(window).off("resize"+j+"."+this.selectId+".createView").on("resize"+j+"."+this.selectId+".createView",function(){b.$newElement.hasClass(f.SHOW)&&m(b.$menuInner[0].scrollTop)})},focusItem:function(b,c,d){if(b){c=c||this.selectpicker.main.data[this.activeIndex];var a=b.firstChild;a&&(a.setAttribute("aria-setsize",this.selectpicker.view.size),a.setAttribute("aria-posinset",c.posinset),!0!==d&&(this.focusedParent.setAttribute("aria-activedescendant",a.id),b.classList.add("active"),a.classList.add("active")))}},defocusItem:function(a){a&&(a.classList.remove("active"),a.firstChild&&a.firstChild.classList.remove("active"))},setPlaceholder:function(){var c=!1;if(this.options.title&&!this.multiple){this.selectpicker.view.titleOption||(this.selectpicker.view.titleOption=document.createElement("option")),c=!0;var b=this.$element[0],d=!1,e=!this.selectpicker.view.titleOption.parentNode;e&&(this.selectpicker.view.titleOption.className="bs-title-option",this.selectpicker.view.titleOption.value="",d=void 0===a(b.options[b.selectedIndex]).attr("selected")&& void 0===this.$element.data("selected")),(e||0!==this.selectpicker.view.titleOption.index)&&b.insertBefore(this.selectpicker.view.titleOption,b.firstChild),d&&(b.selectedIndex=0)}return c},createLi:function(){function m(a){var b=k[k.length-1];b&&"divider"===b.type&&(b.optID||a.optID)||((a=a||{}).type="divider",j.push(Q(!1,f.DIVIDER,a.optID?a.optID+"div":void 0)),k.push(a))}function h(b,a){if((a=a||{}).divider="true"===b.getAttribute("data-divider"),a.divider)m({optID:a.optID});else{var e=k.length,h=b.style.cssText,l=h?J(h):"",f=(b.className||"")+(a.optgroupClass||"");a.optID&&(f="opt "+f),a.text=b.textContent,a.content=b.getAttribute("data-content"),a.tokens=b.getAttribute("data-tokens"),a.subtext=b.getAttribute("data-subtext"),a.icon=b.getAttribute("data-icon"),a.iconBase=i;var o=R(a),g=Q(_(o,f,l),"",a.optID);g.firstChild&&(g.firstChild.id=c.selectId+"-"+e),j.push(g),b.liIndex=e,a.display=a.content||a.text,a.type="option",a.index=e,a.option=b,a.disabled=a.disabled||b.disabled,k.push(a);var d=0;a.display&&(d+=a.display.length),a.subtext&&(d+=a.subtext.length),a.icon&&(d+=1),n<d&&(n=d,c.selectpicker.view.widestOption=j[j.length-1])}}var c=this,i=this.options.iconBase,e=':not([hidden]):not([data-hidden="true"])',j=[],k=[],n=0,o=0,a=this.setPlaceholder()?1:0;this.options.hideDisabled&&(e+=":not(:disabled)"),(c.options.showTick||c.multiple)&&!b.checkMark.parentNode&&(b.checkMark.className=i+" "+c.options.tickIcon+" check-mark",b.a.appendChild(b.checkMark));for(var d=this.$element[0].querySelectorAll("select > *"+e),l=d.length;a<l;a++){var g=d[a];"OPTGROUP"!==g.tagName?h(g,{}):function(c,d){var a=d[c],r=d[c-1],s=d[c+1],f=a.querySelectorAll("option"+e);if(f.length){var l,n,g={label:J(a.label),subtext:a.getAttribute("data-subtext"),icon:a.getAttribute("data-icon"),iconBase:i},p=" "+(a.className||"");o++,r&&m({optID:o});var t=S(g);j.push(Q(t,"dropdown-header"+p,o)),k.push({display:g.label,subtext:g.subtext,type:"optgroup-label",optID:o});for(var b=0,q=f.length;b<q;b++){var u=f[b];0===b&&(n=(l=k.length-1)+q),h(u,{headerIndex:l,lastIndex:n,optID:o,optgroupClass:p,disabled:a.disabled})}s&&m({optID:o})}}(a,d)}this.selectpicker.main.elements=j,this.selectpicker.main.data=k,this.selectpicker.current=this.selectpicker.main},findLis:function(){return this.$menuInner.find(".inner > li")},render:function(){this.setPlaceholder();var l,m,s=this.$element[0],n=function(e,f){var a,b=e.selectedOptions,d=[];if(f){for(var c=0,g=b.length;c<g;c++)(a=b[c]).disabled||"OPTGROUP"===a.parentNode.tagName&&a.parentNode.disabled||d.push(a);return d}return b}(s,this.options.hideDisabled),c=n.length,f=this.$button[0],o=f.querySelector(".filter-option-inner-inner"),w=document.createTextNode(this.options.multipleSeparator),a=b.fragment.cloneNode(!1),t=!1;if(f.classList.toggle("bs-placeholder",this.multiple?!c:!r(s,n)),this.tabIndex(),"static"===this.options.selectedTextFormat)a=R({text:this.options.title},!0);else if((l=this.multiple&& -1!==this.options.selectedTextFormat.indexOf("count")&&1<c)&&(l=1<(m=this.options.selectedTextFormat.split(">")).length&&c>m[1]||1===m.length&&2<=c),!1===l){for(var h=0;h<c&&h<50;h++){var g=n[h],d={},i={content:g.getAttribute("data-content"),subtext:g.getAttribute("data-subtext"),icon:g.getAttribute("data-icon")};this.multiple&&0<h&&a.appendChild(w.cloneNode(!1)),g.title?d.text=g.title:i.content&&this.options.showContent?(d.content=i.content.toString(),t=!0):(this.options.showIcon&&(d.icon=i.icon,d.iconBase=this.options.iconBase),this.options.showSubtext&&!this.multiple&&i.subtext&&(d.subtext=" "+i.subtext),d.text=g.textContent.trim()),a.appendChild(R(d,!0))}49<c&&a.appendChild(document.createTextNode("..."))}else{var k=':not([hidden]):not([data-hidden="true"]):not([data-divider="true"])';this.options.hideDisabled&&(k+=":not(:disabled)");var u=this.$element[0].querySelectorAll("select > option"+k+", optgroup"+k+" option"+k).length;a=R({text:("function"==typeof this.options.countSelectedText?this.options.countSelectedText(c,u):this.options.countSelectedText).replace("{0}",c.toString()).replace("{1}",u.toString())},!0)}if(null==this.options.title&&(this.options.title=this.$element.attr("title")),a.childNodes.length||(a=R({text:void 0!==this.options.title?this.options.title:this.options.noneSelectedText},!0)),f.title=a.textContent.replace(/<[^>]*>?/g,"").trim(),this.options.sanitize&&t&&q([a],this.options.whiteList,this.options.sanitizeFn),o.innerHTML="",o.appendChild(a),e.major<4&&this.$newElement[0].classList.contains("bs3-has-addon")){var v=f.querySelector(".filter-expand"),p=o.cloneNode(!0);p.className="filter-expand",v?f.replaceChild(p,v):f.appendChild(p)}this.$element.trigger("rendered"+j)},setStyle:function(f,g){var b,a=this.$button[0],c=this.$newElement[0],d=this.options.style.trim();this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi,"")),e.major<4&&(c.classList.add("bs3"),c.parentNode.classList.contains("input-group")&&(c.previousElementSibling||c.nextElementSibling)&&(c.previousElementSibling||c.nextElementSibling).classList.contains("input-group-addon")&&c.classList.add("bs3-has-addon")),b=f?f.trim():d,"add"==g?b&&a.classList.add.apply(a.classList,b.split(" ")):"remove"==g?b&&a.classList.remove.apply(a.classList,b.split(" ")):(d&&a.classList.remove.apply(a.classList,d.split(" ")),b&&a.classList.add.apply(a.classList,b.split(" ")))},liHeight:function(y){if(y|| !1!==this.options.size&&!this.sizeInfo){this.sizeInfo||(this.sizeInfo={});var i=document.createElement("div"),c=document.createElement("div"),k=document.createElement("div"),g=document.createElement("ul"),p=document.createElement("li"),j=document.createElement("li"),q=document.createElement("li"),r=document.createElement("a"),l=document.createElement("span"),m=this.options.header&&0<this.$menu.find("."+f.POPOVERHEADER).length?this.$menu.find("."+f.POPOVERHEADER)[0].cloneNode(!0):null,h=this.options.liveSearch?document.createElement("div"):null,n=this.options.actionsBox&&this.multiple&&0<this.$menu.find(".bs-actionsbox").length?this.$menu.find(".bs-actionsbox")[0].cloneNode(!0):null,o=this.options.doneButton&&this.multiple&&0<this.$menu.find(".bs-donebutton").length?this.$menu.find(".bs-donebutton")[0].cloneNode(!0):null,u=this.$element.find("option")[0];if(this.sizeInfo.selectWidth=this.$newElement[0].offsetWidth,l.className="text",r.className="dropdown-item "+(u?u.className:""),i.className=this.$menu[0].parentNode.className+" "+f.SHOW,i.style.width=this.sizeInfo.selectWidth+"px","auto"===this.options.width&&(c.style.minWidth=0),c.className=f.MENU+" "+f.SHOW,k.className="inner "+f.SHOW,g.className=f.MENU+" inner "+("4"===e.major?f.SHOW:""),p.className=f.DIVIDER,j.className="dropdown-header",l.appendChild(document.createTextNode("\xe2\u20AC\u2039")),r.appendChild(l),q.appendChild(r),j.appendChild(l.cloneNode(!0)),this.selectpicker.view.widestOption&&g.appendChild(this.selectpicker.view.widestOption.cloneNode(!0)),g.appendChild(q),g.appendChild(p),g.appendChild(j),m&&c.appendChild(m),h){var v=document.createElement("input");h.className="bs-searchbox",v.className="form-control",h.appendChild(v),c.appendChild(h)}n&&c.appendChild(n),k.appendChild(g),c.appendChild(k),o&&c.appendChild(o),i.appendChild(c),document.body.appendChild(i);var w,z=q.offsetHeight,A=j?j.offsetHeight:0,B=m?m.offsetHeight:0,C=h?h.offsetHeight:0,D=n?n.offsetHeight:0,$=o?o.offsetHeight:0,E=a(p).outerHeight(!0),b=!!window.getComputedStyle&&window.getComputedStyle(c),x=c.offsetWidth,d=b?null:a(c),s={vert:t(b?b.paddingTop:d.css("paddingTop"))+t(b?b.paddingBottom:d.css("paddingBottom"))+t(b?b.borderTopWidth:d.css("borderTopWidth"))+t(b?b.borderBottomWidth:d.css("borderBottomWidth")),horiz:t(b?b.paddingLeft:d.css("paddingLeft"))+t(b?b.paddingRight:d.css("paddingRight"))+t(b?b.borderLeftWidth:d.css("borderLeftWidth"))+t(b?b.borderRightWidth:d.css("borderRightWidth"))},F={vert:s.vert+t(b?b.marginTop:d.css("marginTop"))+t(b?b.marginBottom:d.css("marginBottom"))+2,horiz:s.horiz+t(b?b.marginLeft:d.css("marginLeft"))+t(b?b.marginRight:d.css("marginRight"))+2};k.style.overflowY="scroll",w=c.offsetWidth-x,document.body.removeChild(i),this.sizeInfo.liHeight=z,this.sizeInfo.dropdownHeaderHeight=A,this.sizeInfo.headerHeight=B,this.sizeInfo.searchHeight=C,this.sizeInfo.actionsHeight=D,this.sizeInfo.doneButtonHeight=$,this.sizeInfo.dividerHeight=E,this.sizeInfo.menuPadding=s,this.sizeInfo.menuExtras=F,this.sizeInfo.menuWidth=x,this.sizeInfo.totalMenuWidth=this.sizeInfo.menuWidth,this.sizeInfo.scrollBarWidth=w,this.sizeInfo.selectHeight=this.$newElement[0].offsetHeight,this.setPositionData()}},getSelectPosition:function(){var b,d=a(window),f=this.$newElement.offset(),c=a(this.options.container);this.options.container&&c.length&&!c.is("body")?((b=c.offset()).top+=parseInt(c.css("borderTopWidth")),b.left+=parseInt(c.css("borderLeftWidth"))):b={top:0,left:0};var e=this.options.windowPadding;this.sizeInfo.selectOffsetTop=f.top-b.top-d.scrollTop(),this.sizeInfo.selectOffsetBot=d.height()-this.sizeInfo.selectOffsetTop-this.sizeInfo.selectHeight-b.top-e[2],this.sizeInfo.selectOffsetLeft=f.left-b.left-d.scrollLeft(),this.sizeInfo.selectOffsetRight=d.width()-this.sizeInfo.selectOffsetLeft-this.sizeInfo.selectWidth-b.left-e[1],this.sizeInfo.selectOffsetTop-=e[0],this.sizeInfo.selectOffsetLeft-=e[3]},setMenuSize:function(s){this.getSelectPosition();var c,a,d,e,g,h,n,q=this.sizeInfo.selectWidth,o=this.sizeInfo.liHeight,i=this.sizeInfo.headerHeight,j=this.sizeInfo.searchHeight,k=this.sizeInfo.actionsHeight,l=this.sizeInfo.doneButtonHeight,r=this.sizeInfo.dividerHeight,b=this.sizeInfo.menuPadding,p=0;if(this.options.dropupAuto&&(n=o*this.selectpicker.current.elements.length+b.vert,this.$newElement.toggleClass(f.DROPUP,this.sizeInfo.selectOffsetTop-this.sizeInfo.selectOffsetBot>this.sizeInfo.menuExtras.vert&&n+this.sizeInfo.menuExtras.vert+50>this.sizeInfo.selectOffsetBot)),"auto"===this.options.size)e=3<this.selectpicker.current.elements.length?3*this.sizeInfo.liHeight+this.sizeInfo.menuExtras.vert-2:0,a=this.sizeInfo.selectOffsetBot-this.sizeInfo.menuExtras.vert,d=e+i+j+k+l,h=Math.max(e-b.vert,0),this.$newElement.hasClass(f.DROPUP)&&(a=this.sizeInfo.selectOffsetTop-this.sizeInfo.menuExtras.vert),c=(g=a)-i-j-k-l-b.vert;else if(this.options.size&&"auto"!=this.options.size&&this.selectpicker.current.elements.length>this.options.size){for(var m=0;m<this.options.size;m++)"divider"===this.selectpicker.current.data[m].type&&p++;c=(a=o*this.options.size+p*r+b.vert)-b.vert,g=a+i+j+k+l,d=h=""}"auto"===this.options.dropdownAlignRight&&this.$menu.toggleClass(f.MENURIGHT,this.sizeInfo.selectOffsetLeft>this.sizeInfo.selectOffsetRight&&this.sizeInfo.selectOffsetRight<this.sizeInfo.totalMenuWidth-q),this.$menu.css({"max-height":g+"px",overflow:"hidden","min-height":d+"px"}),this.$menuInner.css({"max-height":c+"px","overflow-y":"auto","min-height":h+"px"}),this.sizeInfo.menuInnerHeight=Math.max(c,1),this.selectpicker.current.data.length&&this.selectpicker.current.data[this.selectpicker.current.data.length-1].position>this.sizeInfo.menuInnerHeight&&(this.sizeInfo.hasScrollBar=!0,this.sizeInfo.totalMenuWidth=this.sizeInfo.menuWidth+this.sizeInfo.scrollBarWidth,this.$menu.css("min-width",this.sizeInfo.totalMenuWidth)),this.dropdown&&this.dropdown._popper&&this.dropdown._popper.update()},setSize:function(b){if(this.liHeight(b),this.options.header&&this.$menu.css("padding-top",0),!1!==this.options.size){var d=this,c=a(window);this.setMenuSize(),this.options.liveSearch&&this.$searchbox.off("input.setMenuSize propertychange.setMenuSize").on("input.setMenuSize propertychange.setMenuSize",function(){return d.setMenuSize()}),"auto"===this.options.size?c.off("resize"+j+"."+this.selectId+".setMenuSize scroll"+j+"."+this.selectId+".setMenuSize").on("resize"+j+"."+this.selectId+".setMenuSize scroll"+j+"."+this.selectId+".setMenuSize",function(){return d.setMenuSize()}):this.options.size&&"auto"!=this.options.size&&this.selectpicker.current.elements.length>this.options.size&&c.off("resize"+j+"."+this.selectId+".setMenuSize scroll"+j+"."+this.selectId+".setMenuSize"),d.createView(!1,!0,b)}},setWidth:function(){var a=this;"auto"===this.options.width?requestAnimationFrame(function(){a.$menu.css("min-width","0"),a.$element.on("loaded"+j,function(){a.liHeight(),a.setMenuSize();var b=a.$newElement.clone().appendTo("body"),c=b.css("width","auto").children("button").outerWidth();b.remove(),a.sizeInfo.selectWidth=Math.max(a.sizeInfo.totalMenuWidth,c),a.$newElement.css("width",a.sizeInfo.selectWidth+"px")})}):"fit"===this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width","")),this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement[0].classList.remove("fit-width")},selectPosition:function(){this.$bsContainer=a('<div class="bs-container" />');var b,c,d,g=this,h=a(this.options.container),i=function(i){var j={},k=g.options.display|| !!a.fn.dropdown.Constructor.Default&&a.fn.dropdown.Constructor.Default.display;g.$bsContainer.addClass(i.attr("class").replace(/form-control|fit-width/gi,"")).toggleClass(f.DROPUP,i.hasClass(f.DROPUP)),b=i.offset(),h.is("body")?c={top:0,left:0}:((c=h.offset()).top+=parseInt(h.css("borderTopWidth"))-h.scrollTop(),c.left+=parseInt(h.css("borderLeftWidth"))-h.scrollLeft()),d=i.hasClass(f.DROPUP)?0:i[0].offsetHeight,(e.major<4||"static"===k)&&(j.top=b.top-c.top+d,j.left=b.left-c.left),j.width=i[0].offsetWidth,g.$bsContainer.css(j)};this.$button.on("click.bs.dropdown.data-api",function(){g.isDisabled()||(i(g.$newElement),g.$bsContainer.appendTo(g.options.container).toggleClass(f.SHOW,!g.$button.hasClass(f.SHOW)).append(g.$menu))}),a(window).off("resize"+j+"."+this.selectId+" scroll"+j+"."+this.selectId).on("resize"+j+"."+this.selectId+" scroll"+j+"."+this.selectId,function(){g.$newElement.hasClass(f.SHOW)&&i(g.$newElement)}),this.$element.on("hide"+j,function(){g.$menu.data("height",g.$menu.height()),g.$bsContainer.detach()})},setOptionStatus:function(e){var a=this;if(a.noScroll=!1,a.selectpicker.view.visibleElements&&a.selectpicker.view.visibleElements.length)for(var c=0;c<a.selectpicker.view.visibleElements.length;c++){var b=a.selectpicker.current.data[c+a.selectpicker.view.position0],d=b.option;d&&(!0!==e&&a.setDisabled(b.index,b.disabled),a.setSelected(b.index,d.selected))}},setSelected:function(c,a){var e,b,d=this.selectpicker.main.elements[c],f=this.selectpicker.main.data[c],g=void 0!==this.activeIndex,h=this.activeIndex===c||a&&!this.multiple&&!g;f.selected=a,b=d.firstChild,a&&(this.selectedIndex=c),d.classList.toggle("selected",a),h?(this.focusItem(d,f),this.selectpicker.view.currentActive=d,this.activeIndex=c):this.defocusItem(d),b&&(b.classList.toggle("selected",a),a?b.setAttribute("aria-selected",!0):this.multiple?b.setAttribute("aria-selected",!1):b.removeAttribute("aria-selected")),h||g||!a|| void 0===this.prevActiveIndex||(e=this.selectpicker.main.elements[this.prevActiveIndex],this.defocusItem(e))},setDisabled:function(c,b){var a,d=this.selectpicker.main.elements[c];this.selectpicker.main.data[c].disabled=b,a=d.firstChild,d.classList.toggle(f.DISABLED,b),a&&("4"===e.major&&a.classList.toggle(f.DISABLED,b),b?(a.setAttribute("aria-disabled",b),a.setAttribute("tabindex",-1)):(a.removeAttribute("aria-disabled"),a.setAttribute("tabindex",0)))},isDisabled:function(){return this.$element[0].disabled},checkDisabled:function(){var a=this;this.isDisabled()?(this.$newElement[0].classList.add(f.DISABLED),this.$button.addClass(f.DISABLED).attr("tabindex",-1).attr("aria-disabled",!0)):(this.$button[0].classList.contains(f.DISABLED)&&(this.$newElement[0].classList.remove(f.DISABLED),this.$button.removeClass(f.DISABLED).attr("aria-disabled",!1)),-1!=this.$button.attr("tabindex")||this.$element.data("tabindex")||this.$button.removeAttr("tabindex")),this.$button.on("click",function(){return!a.isDisabled()})},tabIndex:function(){this.$element.data("tabindex")!==this.$element.attr("tabindex")&& -98!==this.$element.attr("tabindex")&&"-98"!==this.$element.attr("tabindex")&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex"))),this.$element.attr("tabindex",-98)},clickListener:function(){function c(){g.options.liveSearch?g.$searchbox.trigger("focus"):g.$menuInner.trigger("focus")}function d(){g.dropdown&&g.dropdown._popper&&g.dropdown._popper.state.isCreated?c():requestAnimationFrame(d)}var g=this,b=a(document);b.data("spaceSelect",!1),this.$button.on("keyup",function(a){/(32)/.test(a.keyCode.toString(10))&&b.data("spaceSelect")&&(a.preventDefault(),b.data("spaceSelect",!1))}),this.$newElement.on("show.bs.dropdown",function(){3<e.major&&!g.dropdown&&(g.dropdown=g.$button.data("bs.dropdown"),g.dropdown._menu=g.$menu[0])}),this.$button.on("click.bs.dropdown.data-api",function(){g.$newElement.hasClass(f.SHOW)||g.setSize()}),this.$element.on("shown"+j,function(){g.$menuInner[0].scrollTop!==g.selectpicker.view.scrollTop&&(g.$menuInner[0].scrollTop=g.selectpicker.view.scrollTop),3<e.major?requestAnimationFrame(d):c()}),this.$menuInner.on("mouseenter","li a",function(e){var a=this.parentElement,b=g.isVirtual()?g.selectpicker.view.position0:0,c=Array.prototype.indexOf.call(a.parentElement.children,a),d=g.selectpicker.current.data[c+b];g.focusItem(a,d,!0)}),this.$menuInner.on("click","li a",function(v,w){var p=a(this),l=g.$element[0],C=g.isVirtual()?g.selectpicker.view.position0:0,x=g.selectpicker.current.data[p.parent().index()+C],h=x.index,D=r(l),y=l.selectedIndex,F=l.options[y],q=!0;if(g.multiple&&1!==g.options.maxOptions&&v.stopPropagation(),v.preventDefault(),!g.isDisabled()&&!p.parent().hasClass(f.DISABLED)){var m=g.$element.find("option"),d=x.option,i=a(d),z=d.selected,n=i.parent("optgroup"),A=n.find("option"),b=g.options.maxOptions,c=n.data("maxOptions")||!1;if(h===g.activeIndex&&(w=!0),w||(g.prevActiveIndex=g.activeIndex,g.activeIndex=void 0),g.multiple){if(d.selected=!z,g.setSelected(h,!z),p.trigger("blur"),!1!==b|| !1!==c){var B=b<m.filter(":selected").length,$=c<n.find("option:selected").length;if(b&&B||c&&$){if(b&&1==b){m.prop("selected",!1),i.prop("selected",!0);for(var e=0;e<m.length;e++)g.setSelected(e,!1);g.setSelected(h,!0)}else if(c&&1==c){for(n.find("option:selected").prop("selected",!1),i.prop("selected",!0),e=0;e<A.length;e++)d=A[e],g.setSelected(m.index(d),!1);g.setSelected(h,!0)}else{var s="string"==typeof g.options.maxOptionsText?[g.options.maxOptionsText,g.options.maxOptionsText]:g.options.maxOptionsText,k="function"==typeof s?s(b,c):s,t=k[0].replace("{n}",b),u=k[1].replace("{n}",c),o=a('<div class="notify"></div>');k[2]&&(t=t.replace("{var}",k[2][1<b?0:1]),u=u.replace("{var}",k[2][1<c?0:1])),i.prop("selected",!1),g.$menu.append(o),b&&B&&(o.append(a("<div>"+t+"</div>")),q=!1,g.$element.trigger("maxReached"+j)),c&&$&&(o.append(a("<div>"+u+"</div>")),q=!1,g.$element.trigger("maxReachedGrp"+j)),setTimeout(function(){g.setSelected(h,!1)},10),o.delay(750).fadeOut(300,function(){a(this).remove()})}}}}else F.selected=!1,d.selected=!0,g.setSelected(h,!0);!g.multiple||g.multiple&&1===g.options.maxOptions?g.$button.trigger("focus"):g.options.liveSearch&&g.$searchbox.trigger("focus"),q&&(g.multiple||y!==l.selectedIndex)&&(E=[d.index,i.prop("selected"),D],g.$element.triggerNative("change"))}}),this.$menu.on("click","li."+f.DISABLED+" a, ."+f.POPOVERHEADER+", ."+f.POPOVERHEADER+" :not(.close)",function(b){b.currentTarget==this&&(b.preventDefault(),b.stopPropagation(),g.options.liveSearch&&!a(b.target).hasClass("close")?g.$searchbox.trigger("focus"):g.$button.trigger("focus"))}),this.$menuInner.on("click",".divider, .dropdown-header",function(a){a.preventDefault(),a.stopPropagation(),g.options.liveSearch?g.$searchbox.trigger("focus"):g.$button.trigger("focus")}),this.$menu.on("click","."+f.POPOVERHEADER+" .close",function(){g.$button.trigger("click")}),this.$searchbox.on("click",function(a){a.stopPropagation()}),this.$menu.on("click",".actions-btn",function(b){g.options.liveSearch?g.$searchbox.trigger("focus"):g.$button.trigger("focus"),b.preventDefault(),b.stopPropagation(),a(this).hasClass("bs-select-all")?g.selectAll():g.deselectAll()}),this.$element.on("change"+j,function(){g.render(),g.$element.trigger("changed"+j,E),E=null}).on("focus"+j,function(){g.options.mobile||g.$button.trigger("focus")})},liveSearchListener:function(){var a=this,b=document.createElement("li");this.$button.on("click.bs.dropdown.data-api",function(){a.$searchbox.val()&&a.$searchbox.val("")}),this.$searchbox.on("click.bs.dropdown.data-api focus.bs.dropdown.data-api touchend.bs.dropdown.data-api",function(a){a.stopPropagation()}),this.$searchbox.on("input propertychange",function(){var g=a.$searchbox.val();if(a.selectpicker.search.elements=[],a.selectpicker.search.data=[],g){var h=[],i=g.toUpperCase(),e={},f=[],n=a._searchStyle(),j=a.options.liveSearchNormalize;j&&(i=v(i)),a._$lisSelected=a.$menuInner.find(".selected");for(var c=0;c<a.selectpicker.main.data.length;c++){var d=a.selectpicker.main.data[c];e[c]||(e[c]=s(d,i,n,j)),e[c]&& void 0!==d.headerIndex&& -1===f.indexOf(d.headerIndex)&&(0<d.headerIndex&&(e[d.headerIndex-1]=!0,f.push(d.headerIndex-1)),e[d.headerIndex]=!0,f.push(d.headerIndex),e[d.lastIndex+1]=!0),e[c]&&"optgroup-label"!==d.type&&f.push(c)}c=0;for(var k=f.length;c<k;c++){var l=f[c],o=f[c-1],m=(d=a.selectpicker.main.data[l],a.selectpicker.main.data[o]);("divider"!==d.type||"divider"===d.type&&m&&"divider"!==m.type&&k-1!==c)&&(a.selectpicker.search.data.push(d),h.push(a.selectpicker.main.elements[l]))}a.activeIndex=void 0,a.noScroll=!0,a.$menuInner.scrollTop(0),a.selectpicker.search.elements=h,a.createView(!0),h.length||(b.className="no-results",b.innerHTML=a.options.noneResultsText.replace("{0}",'"'+J(g)+'"'),a.$menuInner[0].firstChild.appendChild(b))}else a.$menuInner.scrollTop(0),a.createView(!1)})},_searchStyle:function(){return this.options.liveSearchStyle||"contains"},val:function(b){var a=this.$element[0];if(void 0===b)return this.$element.val();if(E=[null,null,r(a)],this.$element.val(b).trigger("changed"+j,E),this.$newElement.hasClass(f.SHOW)){if(this.multiple)this.setOptionStatus(!0);else{var c=(a.options[a.selectedIndex]||{}).liIndex;"number"==typeof c&&(this.setSelected(this.selectedIndex,!1),this.setSelected(c,!0))}}return this.render(),E=null,this.$element},changeAll:function(b){if(this.multiple){void 0===b&&(b=!0);var c=this.$element[0],e=0,f=0,h=r(c);c.classList.add("bs-select-hidden");for(var d=0,i=this.selectpicker.current.elements.length;d<i;d++){var a=this.selectpicker.current.data[d],g=a.option;g&&!a.disabled&&"divider"!==a.type&&(a.selected&&e++,(g.selected=b)&&f++)}c.classList.remove("bs-select-hidden"),e!==f&&(this.setOptionStatus(),E=[null,null,h],this.$element.triggerNative("change"))}},selectAll:function(){return this.changeAll(!0)},deselectAll:function(){return this.changeAll(!1)},toggle:function(a){(a=a||window.event)&&a.stopPropagation(),this.$button.trigger("click.bs.dropdown.data-api")},keydown:function(c){var d,t,e,h,j,i=a(this),w=i.hasClass("dropdown-toggle"),b=(w?i.closest(".dropdown"):i.closest(N.MENU)).data("this"),o=b.findLis(),p=!1,u=9===c.which&&!w&&!b.options.selectOnTab,x=O.test(c.which)||u,q=b.$menuInner[0].scrollTop,g=!0===b.isVirtual()?b.selectpicker.view.position0:0;if(!(t=b.$newElement.hasClass(f.SHOW))&&(x||48<=c.which&&c.which<=57||96<=c.which&&c.which<=105||65<=c.which&&c.which<=90)&&(b.$button.trigger("click.bs.dropdown.data-api"),b.options.liveSearch))b.$searchbox.trigger("focus");else{if(27===c.which&&t&&(c.preventDefault(),b.$button.trigger("click.bs.dropdown.data-api").trigger("focus")),x){if(!o.length)return;-1!==(d=(e=b.selectpicker.main.elements[b.activeIndex])?Array.prototype.indexOf.call(e.parentElement.children,e):-1)&&b.defocusItem(e),38===c.which?(-1!==d&&d--,d+g<0&&(d+=o.length),b.selectpicker.view.canHighlight[d+g]|| -1==(d=b.selectpicker.view.canHighlight.slice(0,d+g).lastIndexOf(!0)-g)&&(d=o.length-1)):(40===c.which||u)&&(++d+g>=b.selectpicker.view.canHighlight.length&&(d=0),b.selectpicker.view.canHighlight[d+g]||(d=d+1+b.selectpicker.view.canHighlight.slice(d+g+1).indexOf(!0))),c.preventDefault();var k=g+d;38===c.which?0===g&&d===o.length-1?(b.$menuInner[0].scrollTop=b.$menuInner[0].scrollHeight,k=b.selectpicker.current.elements.length-1):p=(j=(h=b.selectpicker.current.data[k]).position-h.height)<q:(40===c.which||u)&&(0===d?k=b.$menuInner[0].scrollTop=0:p=q<(j=(h=b.selectpicker.current.data[k]).position-b.sizeInfo.menuInnerHeight)),e=b.selectpicker.current.elements[k],b.activeIndex=b.selectpicker.current.data[k].index,b.focusItem(e),b.selectpicker.view.currentActive=e,p&&(b.$menuInner[0].scrollTop=j),b.options.liveSearch?b.$searchbox.trigger("focus"):i.trigger("focus")}else if(!i.is("input")&&!P.test(c.which)||32===c.which&&b.selectpicker.keydown.keyHistory){var v,l,m=[];c.preventDefault(),b.selectpicker.keydown.keyHistory+=K[c.which],b.selectpicker.keydown.resetKeyHistory.cancel&&clearTimeout(b.selectpicker.keydown.resetKeyHistory.cancel),b.selectpicker.keydown.resetKeyHistory.cancel=b.selectpicker.keydown.resetKeyHistory.start(),l=b.selectpicker.keydown.keyHistory,/^(.)\1+$/.test(l)&&(l=l.charAt(0));for(var r=0;r<b.selectpicker.current.data.length;r++){var y=b.selectpicker.current.data[r];s(y,l,"startsWith",!0)&&b.selectpicker.view.canHighlight[r]&&m.push(y.index)}if(m.length){var n=0;o.removeClass("active").find("a").removeClass("active"),1===l.length&&(-1===(n=m.indexOf(b.activeIndex))||n===m.length-1?n=0:n++),v=m[n],p=0<q-(h=b.selectpicker.main.data[v]).position?(j=h.position-h.height,!0):(j=h.position-b.sizeInfo.menuInnerHeight,h.position>q+b.sizeInfo.menuInnerHeight),e=b.selectpicker.main.elements[v],b.activeIndex=m[n],b.focusItem(e),e&&e.firstChild.focus(),p&&(b.$menuInner[0].scrollTop=j),i.trigger("focus")}}t&&(32===c.which&&!b.selectpicker.keydown.keyHistory||13===c.which||9===c.which&&b.options.selectOnTab)&&(32!==c.which&&c.preventDefault(),b.options.liveSearch&&32===c.which||(b.$menuInner.find(".active a").trigger("click",!0),i.trigger("focus"),b.options.liveSearch||(c.preventDefault(),a(document).data("spaceSelect",!0))))}},mobile:function(){this.$element[0].classList.add("mobile-device")},refresh:function(){var b=a.extend({},this.options,this.$element.data());this.options=b,this.checkDisabled(),this.setStyle(),this.render(),this.createLi(),this.setWidth(),this.setSize(!0),this.$element.trigger("refreshed"+j)},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove(),this.$element.remove()},destroy:function(){this.$newElement.before(this.$element).remove(),this.$bsContainer?this.$bsContainer.remove():this.$menu.remove(),this.$element.off(j).removeData("selectpicker").removeClass("bs-select-hidden selectpicker"),a(window).off(j+"."+this.selectId)}};var T=a.fn.selectpicker;a.fn.selectpicker=k,a.fn.selectpicker.Constructor=c,a.fn.selectpicker.noConflict=function(){return a.fn.selectpicker=T,this},a(document).off("keydown.bs.dropdown.data-api").on("keydown"+j,'.bootstrap-select [data-toggle="dropdown"], .bootstrap-select [role="listbox"], .bootstrap-select .bs-searchbox input',c.prototype.keydown).on("focusin.modal",'.bootstrap-select [data-toggle="dropdown"], .bootstrap-select [role="listbox"], .bootstrap-select .bs-searchbox input',function(a){a.stopPropagation()}),a(window).on("load"+j+".data-api",function(){a(".selectpicker").each(function(){var b=a(this);k.call(b,b.data())})})}(a)}),function(b,c){var e=function(s,i){var d,h,m=this;i=i||{},this.$element=b(s),this.options=b.extend(!0,{},b.fn.ajaxSelectPicker.defaults,i),this.LOG_ERROR=1,this.LOG_WARNING=2,this.LOG_INFO=3,this.LOG_DEBUG=4,this.lastRequest=!1,this.previousQuery="",this.query="",this.request=!1;var n=[{from:"ajaxResultsPreHook",to:"preprocessData"},{from:"ajaxSearchUrl",to:{ajax:{url:"{{{value}}}"}}},{from:"ajaxOptions",to:"ajax"},{from:"debug",to:function(a){var c={};c.log=Boolean(m.options[a.from])?m.LOG_DEBUG:0,m.options=b.extend(!0,{},m.options,c),delete m.options[a.from],m.log(m.LOG_WARNING,'Deprecated option "'+a.from+'". Update code to use:',c)}},{from:"mixWithCurrents",to:"preserveSelected"},{from:"placeHolderOption",to:{locale:{emptyTitle:"{{{value}}}"}}}];n.length&&b.map(n,function(a){if(m.options[a.from]){if(b.isPlainObject(a.to))m.replaceValue(a.to,"{{{value}}}",m.options[a.from]),m.options=b.extend(!0,{},m.options,a.to),m.log(m.LOG_WARNING,'Deprecated option "'+a.from+'". Update code to use:',a.to),delete m.options[a.from];else if(b.isFunction(a.to))a.to.apply(m,[a]);else{var c={};c[a.to]=m.options[a.from],m.options=b.extend(!0,{},m.options,c),m.log(m.LOG_WARNING,'Deprecated option "'+a.from+'". Update code to use:',c),delete m.options[a.from]}}});var e=this.$element.data();e.searchUrl&&(m.log(m.LOG_WARNING,'Deprecated attribute name: "data-search-url". Update markup to use: \' data-abs-ajax-url="'+e.searchUrl+"\" '"),this.options.ajax.url=e.searchUrl);var t=function(f,c,g){var a=[].concat(f),d=a.length,b=g||{};if(d){var e=a.shift();b[e]=t(a,c,b[e])}return d?b:c},g=Object.keys(e).filter(/./.test.bind(new RegExp("^abs[A-Z]")));if(g.length){var j={},u=["locale"];for(d=0,h=g.length;d<h;d++){var o=g[d].replace(/^abs([A-Z])/,function(b,a){return a.toLowerCase()}).replace(/([A-Z])/g,"-$1").toLowerCase(),a=o.split("-");if(a[0]&&a.length>1&& -1!==u.indexOf(a[0])){for(var p=[a.shift()],q="",f=0;f<a.length;f++)q+=0===f?a[f]:a[f].charAt(0).toUpperCase()+a[f].slice(1);p.push(q),a=p}this.log(this.LOG_DEBUG,'Processing data attribute "data-abs-'+o+'":',e[g[d]]),t(a,e[g[d]],j)}this.options=b.extend(!0,{},this.options,j),this.log(this.LOG_DEBUG,"Merged in the data attribute options: ",j,this.options)}if(this.selectpicker=e.selectpicker,!this.selectpicker)return this.log(this.LOG_ERROR,"Cannot instantiate an AjaxBootstrapSelect instance without selectpicker first being initialized!"),null;if(!this.options.ajax.url)return this.log(this.LOG_ERROR,'Option "ajax.url" must be set! Options:',this.options),null;if(this.locale=b.extend(!0,{},b.fn.ajaxSelectPicker.locale),this.options.langCode=this.options.langCode||c.navigator.userLanguage||c.navigator.language||"en",!this.locale[this.options.langCode]){var r=this.options.langCode;this.options.langCode="en";var k=r.split("-");for(d=0,h=k.length;d<h;d++){var l=k.join("-");if(l.length&&this.locale[l]){this.options.langCode=l;break}k.pop()}this.log(this.LOG_WARNING,'Unknown langCode option: "'+r+'". Using the following langCode instead: "'+this.options.langCode+'".')}this.locale[this.options.langCode]=b.extend(!0,{},this.locale[this.options.langCode],this.options.locale),this.list=new c.AjaxBootstrapSelectList(this),this.list.refresh(),setTimeout(function(){m.init()},500)};e.prototype.init=function(){var a,d=this;this.options.preserveSelected&&this.selectpicker.$menu.off("click",".actions-btn").on("click",".actions-btn",function(a){d.selectpicker.options.liveSearch?d.selectpicker.$searchbox.focus():d.selectpicker.$button.focus(),a.preventDefault(),a.stopPropagation(),b(this).is(".bs-select-all")?(null===d.selectpicker.$lis&&(d.selectpicker.$lis=d.selectpicker.$menu.find("li")),d.$element.find("option:enabled").prop("selected",!0),b(d.selectpicker.$lis).not(".disabled").addClass("selected"),d.selectpicker.render()):(null===d.selectpicker.$lis&&(d.selectpicker.$lis=d.selectpicker.$menu.find("li")),d.$element.find("option:enabled").prop("selected",!1),b(d.selectpicker.$lis).not(".disabled").removeClass("selected"),d.selectpicker.render()),d.selectpicker.$element.change()}),this.selectpicker.$searchbox.attr("placeholder",this.t("searchPlaceholder")).off("input propertychange"),this.selectpicker.$searchbox.on(this.options.bindEvent,function(e){var f=d.selectpicker.$searchbox.val();if(d.log(d.LOG_DEBUG,'Bind event fired: "'+d.options.bindEvent+'", keyCode:',e.keyCode,e),d.options.cache||(d.options.ignoredKeys[13]="enter"),d.options.ignoredKeys[e.keyCode])d.log(d.LOG_DEBUG,"Key ignored.");else if(f.length<d.options.minLength)d.list.setStatus(d.t("statusTooShort"));else if(clearTimeout(a),f.length||(d.options.clearOnEmpty&&d.list.destroy(),d.options.emptyRequest)){if(d.previousQuery=d.query,d.query=f,d.options.cache&&13!==e.keyCode){var g=d.list.cacheGet(d.query);if(g)return d.list.setStatus(g.length?"":d.t("statusNoResults")),d.list.replaceOptions(g),void d.log(d.LOG_INFO,"Rebuilt options from cached data.")}a=setTimeout(function(){d.lastRequest&&d.lastRequest.jqXHR&&b.isFunction(d.lastRequest.jqXHR.abort)&&d.lastRequest.jqXHR.abort(),d.request=new c.AjaxBootstrapSelectRequest(d),d.request.jqXHR.always(function(){d.lastRequest=d.request,d.request=!1})},d.options.requestDelay||300)}})},e.prototype.log=function(a,d){if(c.console&&this.options.log){if("number"!=typeof this.options.log)switch("string"==typeof this.options.log&&(this.options.log=this.options.log.toLowerCase()),this.options.log){case!0:case"debug":this.options.log=this.LOG_DEBUG;break;case"info":this.options.log=this.LOG_INFO;break;case"warn":case"warning":this.options.log=this.LOG_WARNING;break;default:this.options.log=this.LOG_ERROR}if(a<=this.options.log){var b=[].slice.apply(arguments,[2]);switch(a){case this.LOG_DEBUG:a="debug";break;case this.LOG_INFO:a="info";break;case this.LOG_WARNING:a="warn";break;default:case this.LOG_ERROR:a="error"}var e="["+a.toUpperCase()+"] AjaxBootstrapSelect:";"string"==typeof d?b.unshift(e+" "+d):(b.unshift(d),b.unshift(e)),c.console[a].apply(c.console,b)}}},e.prototype.replaceValue=function(c,d,e,a){var f=this;a=b.extend({recursive:!0,depth:!1,limit:!1},a),b.each(c,function(g,h){return!(!1!==a.limit&&"number"==typeof a.limit&&a.limit<=0)&&void(b.isArray(c[g])||b.isPlainObject(c[g])?(a.recursive&& !1===a.depth||a.recursive&&"number"==typeof a.depth&&a.depth>0)&&f.replaceValue(c[g],d,e,a):h===d&&(!1!==a.limit&&"number"==typeof a.limit&&a.limit--,c[g]=e))})},e.prototype.t=function(b,a){return a=a||this.options.langCode,this.locale[a]&&this.locale[a].hasOwnProperty(b)?this.locale[a][b]:(this.log(this.LOG_WARNING,"Unknown translation key:",b),b)},c.AjaxBootstrapSelect=c.AjaxBootstrapSelect||e;var a=function(a){var e=this;this.$status=b(a.options.templates.status).hide().appendTo(a.selectpicker.$menu);var c=a.t("statusInitialized");c&&c.length&&this.setStatus(c),this.cache={},this.plugin=a,this.selected=[],this.title=null,this.selectedTextFormat=a.selectpicker.options.selectedTextFormat;var d=[];a.$element.find("option").each(function(){var c=b(this),e=c.attr("value");d.push({value:e,text:c.text(),class:c.attr("class")||"",data:c.data()||{},preserved:a.options.preserveSelected,selected:!!c.attr("selected")})}),this.cacheSet("",d),a.options.preserveSelected&&(e.selected=d,a.$element.on("change.abs.preserveSelected",function(d){var c=a.$element.find(":selected");e.selected=[],a.selectpicker.multiple||(c=c.last()),c.each(function(){var a=b(this),c=a.attr("value");e.selected.push({value:c,text:a.text(),class:a.attr("class")||"",data:a.data()||{},preserved:!0,selected:!0})}),e.replaceOptions(e.cacheGet(e.plugin.query))}))};a.prototype.build=function(g){var d,e,j=g.length,f=b("<select/>"),h=b("<optgroup/>").attr("label",this.plugin.t("currentlySelected"));for(this.plugin.log(this.plugin.LOG_DEBUG,"Building the select list options from data:",g),e=0;e<j;e++){var a=g[e],c=b("<option/>").appendTo(a.preserved?h:f);if(a.hasOwnProperty("divider"))c.attr("data-divider","true");else for(d in c.val(a.value).text(a.text).attr("title",a.text),a.class.length&&c.attr("class",a.class),a.disabled&&c.attr("disabled",!0),a.selected&&!this.plugin.selectpicker.multiple&&f.find(":selected").prop("selected",!1),a.selected&&c.attr("selected",!0),a.data)a.data.hasOwnProperty(d)&&c.attr("data-"+d,a.data[d])}h.find("option").length&&h["before"===this.plugin.options.preserveSelectedPosition?"prependTo":"appendTo"](f);var i=f.html();return this.plugin.log(this.plugin.LOG_DEBUG,i),i},a.prototype.cacheGet=function(a,c){var b=this.cache[a]||c;return this.plugin.log(this.LOG_DEBUG,"Retrieving cache:",a,b),b},a.prototype.cacheSet=function(a,b){this.cache[a]=b,this.plugin.log(this.LOG_DEBUG,"Saving to cache:",a,b)},a.prototype.destroy=function(){this.replaceOptions(),this.plugin.list.setStatus(),this.plugin.log(this.plugin.LOG_DEBUG,"Destroyed select list.")},a.prototype.refresh=function(b){this.plugin.selectpicker.$menu.css("minHeight",0),this.plugin.selectpicker.$menu.find("> .inner").css("minHeight",0);var a=this.plugin.t("emptyTitle");!this.plugin.$element.find("option").length&&a&&a.length?this.setTitle(a):(this.title||"static"!==this.selectedTextFormat&&this.selectedTextFormat!==this.plugin.selectpicker.options.selectedTextFormat)&&this.restoreTitle(),this.plugin.selectpicker.refresh(),this.plugin.selectpicker.findLis(),b&&(this.plugin.log(this.plugin.LOG_DEBUG,"Triggering Change"),this.plugin.$element.trigger("change.$")),this.plugin.log(this.plugin.LOG_DEBUG,"Refreshed select list.")},a.prototype.replaceOptions=function(a){var b,d,c,e="",f=[],g=[],h=[];if(a=a||[],this.selected&&this.selected.length){for(this.plugin.log(this.plugin.LOG_INFO,"Processing preserved selections:",this.selected),d=(g=[].concat(this.selected,a)).length,b=0;b<d;b++)(c=g[b]).hasOwnProperty("value")&& -1===h.indexOf(c.value+"")?(h.push(c.value+""),f.push(c)):this.plugin.log(this.plugin.LOG_DEBUG,"Duplicate item found, ignoring.");a=f}a.length&&(e=this.plugin.list.build(a)),this.plugin.$element.html(e),this.refresh(),this.plugin.log(this.plugin.LOG_DEBUG,"Replaced options with data:",a)},a.prototype.restore=function(){var a=this.plugin.list.cacheGet(this.plugin.previousQuery);return a&&this.plugin.list.replaceOptions(a)&&this.plugin.log(this.plugin.LOG_DEBUG,"Restored select list to the previous query: ",this.plugin.previousQuery),this.plugin.log(this.plugin.LOG_DEBUG,"Unable to restore select list to the previous query:",this.plugin.previousQuery),!1},a.prototype.restoreTitle=function(){this.plugin.request||(this.plugin.selectpicker.options.selectedTextFormat=this.selectedTextFormat,this.title?this.plugin.$element.attr("title",this.title):this.plugin.$element.removeAttr("title"),this.title=null)},a.prototype.setTitle=function(a){this.plugin.request||(this.title=this.plugin.$element.attr("title"),this.plugin.selectpicker.options.selectedTextFormat="static",this.plugin.$element.attr("title",a))},a.prototype.setStatus=function(a){(a=a||"").length?this.$status.html(a).show():this.$status.html("").hide()},c.AjaxBootstrapSelectList=c.AjaxBootstrapSelectList||a;var d=function(d){var c,g=this,e=["beforeSend","success","error","complete"],f=e.length;for(this.plugin=d,this.options=b.extend(!0,{},d.options.ajax),this.callbacks={},c=0;c<f;c++){var a=e[c];this.options[a]&&b.isFunction(this.options[a])&&(this.callbacks[a]=this.options[a]),this.options[a]=function(a){return function(){g.plugin.log(g.plugin.LOG_INFO,"Invoking AjaxBootstrapSelectRequest."+a+" callback:",arguments),g[a].apply(g,arguments),g.callbacks[a]&&(g.plugin.log(g.plugin.LOG_INFO,"Invoking ajax."+a+" callback:",arguments),g.callbacks[a].apply(g,arguments))}}(a)}this.options.data&&b.isFunction(this.options.data)&&(this.options.data=this.options.data.apply(this)||{q:"{{{q}}}"}),this.plugin.replaceValue(this.options.data,"{{{q}}}",this.plugin.query),this.jqXHR=b.ajax(this.options)};d.prototype.beforeSend=function(a){this.plugin.list.destroy(),this.plugin.list.setStatus(this.plugin.t("statusSearching"))},d.prototype.complete=function(c,b){if("abort"!==b){var a=this.plugin.list.cacheGet(this.plugin.query);if(a){if(!a.length)return this.plugin.list.destroy(),this.plugin.list.setStatus(this.plugin.t("statusNoResults")),void this.plugin.log(this.plugin.LOG_INFO,"No results were returned.");this.plugin.list.setStatus()}this.plugin.list.refresh(!0)}},d.prototype.error=function(b,a,c){"abort"!==a&&(this.plugin.list.cacheSet(this.plugin.query),this.plugin.options.clearOnError&&this.plugin.list.destroy(),this.plugin.list.setStatus(this.plugin.t("errorText")),this.plugin.options.restoreOnError&&(this.plugin.list.restore(),this.plugin.list.setStatus()))},d.prototype.process=function(h){var f,i,c,a,d,e,g=[],j=[];if(this.plugin.log(this.plugin.LOG_INFO,"Processing raw data for:",this.plugin.query,h),d=h,b.isFunction(this.plugin.options.preprocessData)&&(this.plugin.log(this.plugin.LOG_DEBUG,"Invoking preprocessData callback:",this.plugin.options.processData),void 0!==(c=this.plugin.options.preprocessData.apply(this,[d]))&&null!==c&& !1!==c&&(d=c)),!b.isArray(d))return this.plugin.log(this.plugin.LOG_ERROR,'The data returned is not an Array. Use the "preprocessData" callback option to parse the results and construct a proper array for this plugin.',d),!1;for(i=d.length,f=0;f<i;f++)a=d[f],this.plugin.log(this.plugin.LOG_DEBUG,"Processing item:",a),b.isPlainObject(a)&&(a.hasOwnProperty("divider")||a.hasOwnProperty("data")&&b.isPlainObject(a.data)&&a.data.divider?(this.plugin.log(this.plugin.LOG_DEBUG,"Item is a divider, ignoring provided data."),g.push({divider:!0})):a.hasOwnProperty("value")?-1===j.indexOf(a.value+"")?(j.push(a.value+""),a=b.extend({text:a.value,class:"",data:{},disabled:!1,selected:!1},a),g.push(a)):this.plugin.log(this.plugin.LOG_DEBUG,"Duplicate item found, ignoring."):this.plugin.log(this.plugin.LOG_DEBUG,'Data item must have a "value" property, skipping.'));if(e=[].concat(g),b.isFunction(this.plugin.options.processData)&&(this.plugin.log(this.plugin.LOG_DEBUG,"Invoking processData callback:",this.plugin.options.processData),void 0!==(c=this.plugin.options.processData.apply(this,[e]))&&null!==c&& !1!==c)){if(!b.isArray(c))return this.plugin.log(this.plugin.LOG_ERROR,"The processData callback did not return an array.",c),!1;e=c}return this.plugin.list.cacheSet(this.plugin.query,e),this.plugin.log(this.plugin.LOG_INFO,"Processed data:",e),e},d.prototype.success=function(a,d,e){if(!b.isArray(a)&&!b.isPlainObject(a))return this.plugin.log(this.plugin.LOG_ERROR,"Request did not return a JSON Array or Object.",a),void this.plugin.list.destroy();var c=this.process(a);this.plugin.list.replaceOptions(c)},c.AjaxBootstrapSelectRequest=c.AjaxBootstrapSelectRequest||d,b.fn.ajaxSelectPicker=function(a){return this.each(function(){b(this).data("AjaxBootstrapSelect")||b(this).data("AjaxBootstrapSelect",new c.AjaxBootstrapSelect(this,a))})},b.fn.ajaxSelectPicker.locale={},b.fn.ajaxSelectPicker.defaults={ajax:{url:null,type:"POST",dataType:"json",data:{q:"{{{q}}}"}},minLength:0,bindEvent:"keyup",cache:!0,clearOnEmpty:!0,clearOnError:!0,emptyRequest:!1,ignoredKeys:{9:"tab",16:"shift",17:"ctrl",18:"alt",27:"esc",37:"left",39:"right",38:"up",40:"down",91:"meta"},langCode:null,locale:null,log:"error",preprocessData:function(){},preserveSelected:!0,preserveSelectedPosition:"after",processData:function(){},requestDelay:300,restoreOnError:!1,templates:{status:'<div class="status"></div>'}},b.fn.ajaxSelectPicker.locale["en-US"]={currentlySelected:"Currently Selected",emptyTitle:"Select and begin typing",errorText:"Unable to retrieve results",searchPlaceholder:"Search...",statusInitialized:"Start typing a search query",statusNoResults:"No Results",statusSearching:"Searching...",statusTooShort:"Please enter more characters"},b.fn.ajaxSelectPicker.locale.en=b.fn.ajaxSelectPicker.locale["en-US"]}(jQuery,window)